<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<link rel="stylesheet" href="joint.css" />
		<script src="joint.js"></script>
		<script src="joint.shapes.devs.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>

        <script>

            $(document).ready(function(){


                $("#btninsert").click(function(event){

                    var m2 = new joint.shapes.devs.Model({
                        position: { x: 400, y: 50 },
                        size: { width: 45, height: 45 },
                        inPorts: ['in1','in2'],
                        outPorts: ['out'],
                        attrs: {
                            '.label': { text: 'Model', 'ref-x': .4, 'ref-y': .2 },
                            rect: { fill: '#2ECC71' },
                            '.inPorts circle': { fill: '#16A085' },
                            '.outPorts circle': { fill: '#E74C3C' }
                        }
                    });
                    graph.addCell(m2);


                    //$("#items").append('<div><input type="text" name="input[]"><button  class="delete">Delete</button></div>');

                });



            });


        </script>
    </head>

	<body>
		<div id="paper-create"></div>

        <input type="submit" id="btninsert" name="btninsert" value="Clique" />

		<script type="text/javascript">
            var graph = new joint.dia.Graph;

            graph.on('all', function(eventName, cell) {
                console.log(arguments);

			//	if (eventName != 'change' || eventName != 'change:position'){
					$("#items").append(eventName+ "</br>");
					//$("#items").append(arguments[0] + "</br>");
					//$("#items").append(arguments[1].id+ "</br>");
				//}

            });

			var paper = new joint.dia.Paper({ el: $('#paper-create'), width: 1000, height: 500, gridSize: 1, model: graph });
            

		</script>



    <div id="items"></div>
    </body>
</html>